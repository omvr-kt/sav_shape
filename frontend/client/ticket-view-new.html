<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket #TCK-2024-001 - Shape SAV</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar.css">
    <link rel="stylesheet" href="/assets/css/components.css">
    <link rel="stylesheet" href="/assets/css/client.css">
</head>
<body>
    <!-- Layout avec sidebar -->
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="app-sidebar">
            <!-- Logo -->
            <div class="sidebar-logo">
                <h1>Shape</h1>
            </div>
            
            <!-- Navigation principale -->
            <nav class="sidebar-nav">
                <a href="/client/dashboard.html" class="sidebar-nav-item" data-tooltip="Dashboard">
                    <span class="sidebar-nav-icon">üìä</span>
                    <span class="sidebar-nav-label">Dashboard</span>
                </a>
                <a href="/client/tickets.html" class="sidebar-nav-item active" data-tooltip="Mes Tickets">
                    <span class="sidebar-nav-icon">üé´</span>
                    <span class="sidebar-nav-label">Mes Tickets</span>
                </a>
                <a href="/client/invoices.html" class="sidebar-nav-item" data-tooltip="Mes Factures">
                    <span class="sidebar-nav-icon">üßæ</span>
                    <span class="sidebar-nav-label">Mes Factures</span>
                </a>
                <a href="/client/projects.html" class="sidebar-nav-item" data-tooltip="Mes Projets">
                    <span class="sidebar-nav-icon">üìÅ</span>
                    <span class="sidebar-nav-label">Mes Projets</span>
                </a>
            </nav>
            
            <!-- Navigation du bas -->
            <div class="sidebar-footer">
                <nav class="sidebar-nav">
                    <a href="/client/profile.html" class="sidebar-nav-item" data-tooltip="Mon Profil">
                        <span class="sidebar-nav-icon">üë§</span>
                        <span class="sidebar-nav-label">Mon Profil</span>
                    </a>
                    <a href="/client/confidential.html" class="sidebar-nav-item" data-tooltip="Fichier Confidentiel">
                        <span class="sidebar-nav-icon">üîí</span>
                        <span class="sidebar-nav-label">Fichier Confidentiel</span>
                    </a>
                    <a href="/logout" class="sidebar-nav-item" data-tooltip="D√©connexion">
                        <span class="sidebar-nav-icon">üö™</span>
                        <span class="sidebar-nav-label">D√©connexion</span>
                    </a>
                </nav>
            </div>
        </aside>
        
        <!-- Overlay pour mobile -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        
        <!-- Contenu principal -->
        <main class="app-main">
            <!-- Header -->
            <header class="client-header">
                <div class="container">
                    <div style="display: flex; align-items: center; gap: var(--space-3);">
                        <!-- Bouton burger pour mobile -->
                        <button class="sidebar-toggle" id="sidebarToggle" style="display: none;">
                            ‚ò∞
                        </button>
                        
                        <div>
                            <h1>Ticket #TCK-2024-001</h1>
                            <!-- Breadcrumb -->
                            <nav class="breadcrumb">
                                <a href="/client/dashboard.html" class="breadcrumb-link">Dashboard</a>
                                <span class="breadcrumb-item">‚Ä¢</span>
                                <a href="/client/tickets.html" class="breadcrumb-link">Mes Tickets</a>
                                <span class="breadcrumb-item">‚Ä¢</span>
                                <span class="breadcrumb-current">#TCK-2024-001</span>
                            </nav>
                        </div>
                    </div>
                    
                    <div class="header-right">
                        <div style="display: flex; gap: var(--space-2);">
                            <button class="btn btn-outline">
                                ‚Üê Retour √† la liste
                            </button>
                            <div class="dropdown">
                                <button class="dropdown-toggle">
                                    Actions
                                    <span>‚ñº</span>
                                </button>
                                <div class="dropdown-menu">
                                    <a href="#" class="dropdown-item">üìß Transf√©rer par email</a>
                                    <a href="#" class="dropdown-item">üìã Copier le lien</a>
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item">‚≠ê Marquer comme favori</a>
                                    <a href="#" class="dropdown-item">üîî Activer les notifications</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Contenu de la page -->
            <div style="padding: var(--space-5) var(--space-6);">
                
                <!-- Informations principales du ticket -->
                <div class="card" style="margin-bottom: var(--space-6);">
                    <div class="card-header">
                        <div>
                            <h2 style="font-family: var(--font-heading); font-size: 24px; margin: 0; color: var(--color-primary);">
                                Probl√®me de connexion sur l'espace admin
                            </h2>
                            <div style="display: flex; gap: var(--space-3); align-items: center; margin-top: var(--space-2);">
                                <span class="badge status-en-cours">En cours</span>
                                <span class="badge" style="background: var(--color-error); color: var(--color-surface);">Urgent</span>
                                <span style="color: var(--color-muted); font-size: 14px;">
                                    üìÅ Site Web E-commerce
                                </span>
                            </div>
                        </div>
                        
                        <div class="alert alert-warning" style="margin: 0; max-width: 300px;">
                            <div style="font-weight: 600;">‚ö†Ô∏è SLA dans 4h</div>
                            <div style="font-size: 12px; margin-top: 4px;">
                                Temps de r√©ponse contractuel bient√¥t d√©pass√©
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-body">
                        <!-- M√©tadonn√©es du ticket -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-5); margin-bottom: var(--space-5); padding: var(--space-4); background: var(--color-bg); border-radius: var(--radius-md);">
                            <div>
                                <div style="font-size: 12px; font-weight: 600; color: var(--color-muted); text-transform: uppercase; letter-spacing: 0.05em;">Cr√©√© le</div>
                                <div style="font-size: 16px; color: var(--color-text); margin-top: 4px;">15 janvier 2024, 14:30</div>
                            </div>
                            <div>
                                <div style="font-size: 12px; font-weight: 600; color: var(--color-muted); text-transform: uppercase; letter-spacing: 0.05em;">Derni√®re mise √† jour</div>
                                <div style="font-size: 16px; color: var(--color-text); margin-top: 4px;">Il y a 2 heures</div>
                            </div>
                            <div>
                                <div style="font-size: 12px; font-weight: 600; color: var(--color-muted); text-transform: uppercase; letter-spacing: 0.05em;">Assign√© √†</div>
                                <div style="font-size: 16px; color: var(--color-text); margin-top: 4px;">Thomas Martin</div>
                            </div>
                            <div>
                                <div style="font-size: 12px; font-weight: 600; color: var(--color-muted); text-transform: uppercase; letter-spacing: 0.05em;">Temps de r√©solution</div>
                                <div style="font-size: 16px; color: var(--color-text); margin-top: 4px;">6h restantes</div>
                            </div>
                        </div>
                        
                        <!-- Description -->
                        <div style="margin-bottom: var(--space-5);">
                            <h4 style="font-family: var(--font-heading); font-size: 18px; color: var(--color-primary); margin-bottom: var(--space-3);">
                                Description du probl√®me
                            </h4>
                            <div style="background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: var(--space-4); line-height: 1.6;">
                                <p>Bonjour,</p>
                                <p>Depuis hier soir (14 janvier vers 23h), il m'est impossible de me connecter √† l'interface d'administration de notre site e-commerce.</p>
                                <p>Quand je saisis mes identifiants habituels, j'obtiens syst√©matiquement le message d'erreur : <code style="background: var(--color-bg); padding: 2px 4px; border-radius: 3px; font-family: monospace;">"Identifiants incorrects"</code></p>
                                <p><strong>Informations techniques :</strong></p>
                                <ul>
                                    <li>URL concern√©e : <a href="https://admin.monsite.com" style="color: var(--color-primary);">https://admin.monsite.com</a></li>
                                    <li>Navigateur test√© : Chrome 120.0.6099.109 et Firefox 121.0</li>
                                    <li>J'ai essay√© de vider le cache et les cookies</li>
                                    <li>Le probl√®me persiste en navigation priv√©e</li>
                                </ul>
                                <p>Ce probl√®me bloque compl√®tement la gestion de notre boutique en ligne. Nous avons besoin d'une r√©solution rapide.</p>
                                <p>Merci de votre aide,<br>Marie Dubois</p>
                            </div>
                        </div>
                        
                        <!-- Pi√®ces jointes -->
                        <div style="margin-bottom: var(--space-5);">
                            <h4 style="font-family: var(--font-heading); font-size: 18px; color: var(--color-primary); margin-bottom: var(--space-3);">
                                Pi√®ces jointes (2)
                            </h4>
                            <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                                <div style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--color-bg); border: 1px solid var(--color-border); border-radius: var(--radius-md);">
                                    <div style="font-size: 24px;">üñºÔ∏è</div>
                                    <div style="flex: 1;">
                                        <a href="#" style="color: var(--color-primary); font-weight: 500; text-decoration: none;">screenshot-erreur-connexion.png</a>
                                        <div style="font-size: 14px; color: var(--color-muted);">Image ‚Ä¢ 342 Ko</div>
                                    </div>
                                    <button class="btn btn-outline" style="padding: 6px 12px;">
                                        üì• T√©l√©charger
                                    </button>
                                </div>
                                
                                <div style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--color-bg); border: 1px solid var(--color-border); border-radius: var(--radius-md);">
                                    <div style="font-size: 24px;">üìÑ</div>
                                    <div style="flex: 1;">
                                        <a href="#" style="color: var(--color-primary); font-weight: 500; text-decoration: none;">logs-navigateur.txt</a>
                                        <div style="font-size: 14px; color: var(--color-muted);">Texte ‚Ä¢ 12 Ko</div>
                                    </div>
                                    <button class="btn btn-outline" style="padding: 6px 12px;">
                                        üì• T√©l√©charger
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Historique des √©changes -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Historique des √©changes (3)</h3>
                        <div style="font-size: 14px; color: var(--color-muted);">
                            Derni√®re r√©ponse il y a 2 heures
                        </div>
                    </div>
                    <div class="card-body" style="padding: 0;">
                        <div style="display: flex; flex-direction: column;">
                            
                            <!-- Message 1 - Cr√©ation du ticket -->
                            <div style="padding: var(--space-5); border-bottom: 1px solid var(--color-border);">
                                <div style="display: flex; gap: var(--space-3);">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--color-primary); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <span style="color: var(--color-surface); font-weight: 600; font-size: 14px;">MD</span>
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <div>
                                                <div style="font-weight: 600; color: var(--color-primary);">Marie Dubois</div>
                                                <div style="font-size: 14px; color: var(--color-muted);">Client</div>
                                            </div>
                                            <div style="font-size: 14px; color: var(--color-muted);">
                                                15 jan. 2024, 14:30
                                            </div>
                                        </div>
                                        <div style="background: var(--color-bg); padding: var(--space-3); border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);">
                                            <strong>Ticket cr√©√©</strong><br>
                                            Probl√®me de connexion sur l'espace admin - [Voir description compl√®te ci-dessus]
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Message 2 - R√©ponse du support -->
                            <div style="padding: var(--space-5); border-bottom: 1px solid var(--color-border);">
                                <div style="display: flex; gap: var(--space-3);">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--color-accent); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <span style="color: var(--color-primary); font-weight: 600; font-size: 14px;">TM</span>
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <div>
                                                <div style="font-weight: 600; color: var(--color-primary);">Thomas Martin</div>
                                                <div style="font-size: 14px; color: var(--color-muted);">Support technique</div>
                                            </div>
                                            <div style="font-size: 14px; color: var(--color-muted);">
                                                15 jan. 2024, 15:45
                                            </div>
                                        </div>
                                        <div style="background: var(--color-surface); padding: var(--space-3); border-radius: var(--radius-md); border: 1px solid var(--color-border);">
                                            <p>Bonjour Marie,</p>
                                            <p>Merci pour votre signalement. J'ai pris en charge votre ticket et je vais investiguer imm√©diatement.</p>
                                            <p>J'ai identifi√© un probl√®me avec notre serveur d'authentification qui affecte certains comptes admin. Nous travaillons actuellement sur une correction.</p>
                                            <p><strong>Solution temporaire :</strong> Puis-je vous demander d'essayer de vous connecter avec ce lien de r√©cup√©ration : <a href="#" style="color: var(--color-primary);">admin.monsite.com/recovery</a></p>
                                            <p>Je vous tiens inform√©e de l'avancement.</p>
                                            <p>Cordialement,<br>Thomas Martin</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Message 3 - R√©ponse du client -->
                            <div style="padding: var(--space-5);">
                                <div style="display: flex; gap: var(--space-3);">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--color-primary); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <span style="color: var(--color-surface); font-weight: 600; font-size: 14px;">MD</span>
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                                            <div>
                                                <div style="font-weight: 600; color: var(--color-primary);">Marie Dubois</div>
                                                <div style="font-size: 14px; color: var(--color-muted);">Client</div>
                                            </div>
                                            <div style="font-size: 14px; color: var(--color-muted);">
                                                Aujourd'hui, 09:15
                                            </div>
                                        </div>
                                        <div style="background: var(--color-bg); padding: var(--space-3); border-radius: var(--radius-md); border-left: 3px solid var(--color-primary);">
                                            <p>Bonjour Thomas,</p>
                                            <p>Merci pour votre r√©ponse rapide ! üôè</p>
                                            <p>J'ai essay√© le lien de r√©cup√©ration que vous m'avez envoy√©, mais j'obtiens toujours la m√™me erreur. Pouvez-vous v√©rifier si mon compte n'est pas bloqu√© ?</p>
                                            <p>En attendant, cela nous bloque pour traiter les commandes du jour.</p>
                                            <p>Merci,<br>Marie</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Zone de r√©ponse -->
                    <div class="card-footer" style="background: var(--color-bg);">
                        <div style="margin-bottom: var(--space-3);">
                            <h4 style="font-family: var(--font-heading); font-size: 16px; color: var(--color-primary); margin-bottom: var(--space-2);">
                                Ajouter une r√©ponse
                            </h4>
                            <div class="alert alert-info" style="margin-bottom: var(--space-3);">
                                <strong>üí° Conseil :</strong> Soyez pr√©cis dans votre description et n'h√©sitez pas √† joindre des captures d'√©cran pour nous aider √† mieux comprendre le probl√®me.
                            </div>
                        </div>
                        
                        <form style="display: flex; flex-direction: column; gap: var(--space-3);">
                            <div class="form-group">
                                <textarea 
                                    class="form-textarea" 
                                    placeholder="D√©crivez votre probl√®me ou votre question..."
                                    rows="4"
                                    style="resize: vertical;"
                                ></textarea>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; gap: var(--space-2); align-items: center;">
                                    <button type="button" class="btn btn-outline">
                                        üìé Joindre un fichier
                                    </button>
                                    <input type="file" multiple style="display: none;">
                                </div>
                                
                                <div style="display: flex; gap: var(--space-2);">
                                    <button type="button" class="btn btn-outline">
                                        üíæ Brouillon
                                    </button>
                                    <button type="submit" class="btn btn-primary">
                                        üì§ Envoyer la r√©ponse
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Scripts -->
    <script>
        // Toggle sidebar sur mobile
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            document.querySelector('.app-sidebar').classList.add('open');
            document.getElementById('sidebarOverlay').classList.add('active');
        });
        
        // Fermer sidebar avec overlay
        document.getElementById('sidebarOverlay').addEventListener('click', function() {
            document.querySelector('.app-sidebar').classList.remove('open');
            this.classList.remove('active');
        });
        
        // Responsive : afficher le bouton burger sur mobile
        function checkMobile() {
            const sidebarToggle = document.getElementById('sidebarToggle');
            if (window.innerWidth <= 768) {
                sidebarToggle.style.display = 'flex';
            } else {
                sidebarToggle.style.display = 'none';
                document.querySelector('.app-sidebar').classList.remove('open');
                document.getElementById('sidebarOverlay').classList.remove('active');
            }
        }
        
        window.addEventListener('resize', checkMobile);
        checkMobile();
        
        // Gestion des dropdowns
        document.querySelectorAll('.dropdown').forEach(dropdown => {
            const toggle = dropdown.querySelector('.dropdown-toggle');
            
            toggle.addEventListener('click', (e) => {
                e.preventDefault();
                dropdown.classList.toggle('active');
            });
            
            // Fermer si on clique ailleurs
            document.addEventListener('click', (e) => {
                if (!dropdown.contains(e.target)) {
                    dropdown.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>